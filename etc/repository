@Repository
@RequiredArgsConstructor
@Slf4j
public class DocumentBoxCountRepositoryImpl implements DocumentBoxCountRepository{
    private final DSLContext dsl;
    public List<DocumentBoxCountQueryOutJooqDto> findProceedDocumentBoxCount(String companyCode, String userId) {
        return dsl.select(DSL.count().as("DOCUMENT_COUNT"))
                .from(DOCUMENT_STATUS)
                .join(PROCEED_DOCUMENT_BOX).on(DOCUMENT_STATUS.DOCUMENT_STATUS_ID.eq(PROCEED_DOCUMENT_BOX.DOCUMENT_STATUS_ID))
                .where(PROCEED_DOCUMENT_BOX.USER_ID.eq(userId))
                .and(PROCEED_DOCUMENT_BOX.COMPANY_CODE.eq(companyCode))
                .and(PROCEED_DOCUMENT_BOX.DISPLAY_YN.eq("Y"))
                .and(DOCUMENT_STATUS.DISPLAY_YN.eq("Y"))
                .fetchInto(DocumentBoxCountQueryOutJooqDto.class);
    }

    public List<DocumentBoxCountQueryOutJooqDto> findCompleteDocumentBoxCount(String companyCode, String userId) {
        return dsl.select(DSL.count().as("DOCUMENT_COUNT"))
                .from(DOCUMENT_STATUS)
                .join(COMPLETE_DOCUMENT_BOX).on(DOCUMENT_STATUS.DOCUMENT_STATUS_ID.eq(COMPLETE_DOCUMENT_BOX.DOCUMENT_STATUS_ID))
                .where(COMPLETE_DOCUMENT_BOX.USER_ID.eq(userId))
                .and(COMPLETE_DOCUMENT_BOX.COMPANY_CODE.eq(companyCode))
                .and(COMPLETE_DOCUMENT_BOX.DISPLAY_YN.eq("Y"))
                .and(DOCUMENT_STATUS.DISPLAY_YN.eq("Y"))
                .fetchInto(DocumentBoxCountQueryOutJooqDto.class);
    }

}


결과

@Repository
@RequiredArgsConstructor
@Slf4j
public class DocumentBoxCountRepositoryImpl implements DocumentBoxCountRepository {

    private final DSLContext dsl;

    public int findProceedDocumentBoxCount(String companyCode, String userId) {
        return dsl.select(DSL.count().as("DOCUMENT_COUNT"))
                .from(DOCUMENT_STATUS)
                .join(PROCEED_DOCUMENT_BOX)
                .on(DOCUMENT_STATUS.DOCUMENT_STATUS_ID.eq(PROCEED_DOCUMENT_BOX.DOCUMENT_STATUS_ID)
                        .and(PROCEED_DOCUMENT_BOX.USER_ID.eq(userId))
                        .and(PROCEED_DOCUMENT_BOX.COMPANY_CODE.eq(companyCode))
                        .and(PROCEED_DOCUMENT_BOX.DISPLAY_YN.eq("Y")))
                .where(DOCUMENT_STATUS.DISPLAY_YN.eq("Y"))
                .fetchOneInto(int.class);
    }
}
